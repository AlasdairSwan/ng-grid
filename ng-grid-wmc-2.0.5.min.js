(function(n,t){"use strict";var o=6,r=4,i="asc",l="desc",a="_ng_field_",s="_ng_depth_",c="_ng_hidden_",g="_ng_column_",d=/CUSTOM_FILTERS/g,u=/COL_FIELD/g,f=/DISPLAY_CELL_TEMPLATE/g,p=/EDITABLE_CELL_TEMPLATE/g,h=/<.+>/;n.ngGrid={},n.ngGrid.i18n={};var m=angular.module("ngGrid.services",[]),v=angular.module("ngGrid.directives",[]),w=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var C=function(e,n,t,r){if(void 0===e.selectionProvider.selectedItems)return!0;var i,l=t.which||t.keyCode,a=!1,s=!1,c=e.selectionProvider.lastClickedRow.rowIndex,g=e.columns.filter(function(e){return e.visible}),d=e.columns.filter(function(e){return e.pinned});if(e.col&&(i=g.indexOf(e.col)),37!=l&&38!=l&&39!=l&&40!=l&&9!=l&&13!=l)return!0;if(e.enableCellSelection){9==l&&t.preventDefault();var u=e.showSelectionCheckbox?1==e.col.index:0==e.col.index,f=1==e.$index||0==e.$index,p=e.$index==e.renderedColumns.length-1||e.$index==e.renderedColumns.length-2,h=g.indexOf(e.col)==g.length-1,m=d.indexOf(e.col)==d.length-1;if(37==l||9==l&&t.shiftKey){var v=0;u||(i-=1),f?u&&9==l&&t.shiftKey?(v=r.$canvas.width(),i=g.length-1,s=!0):v=r.$viewport.scrollLeft()-e.col.width:d.length>0&&(v=r.$viewport.scrollLeft()-g[i].width),r.$viewport.scrollLeft(v)}else(39==l||9==l&&!t.shiftKey)&&(p?h&&9==l&&!t.shiftKey?(r.$viewport.scrollLeft(0),i=e.showSelectionCheckbox?1:0,a=!0):r.$viewport.scrollLeft(r.$viewport.scrollLeft()+e.col.width):m&&r.$viewport.scrollLeft(0),h||(i+=1))}var w;w=e.configGroups.length>0?r.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):r.filteredRows;var C=0;if(0!=c&&(38==l||13==l&&t.shiftKey||9==l&&t.shiftKey&&s)?C=-1:c!=w.length-1&&(40==l||13==l&&!t.shiftKey||9==l&&a)&&(C=1),C){var b=w[c+C];b.beforeSelectionChange(b,t)&&(b.continueSelection(t),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-o-2?r.$viewport.scrollTop(r.$viewport.scrollTop()+e.rowHeight):o+2>=e.selectionProvider.lastClickedRow.renderedRowIndex&&r.$viewport.scrollTop(r.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(g[i]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var n=this.length>>>0,t=Number(arguments[1])||0;for(t=0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=n);n>t;t++)if(t in this&&this[t]===e)return t;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var o=[],r=arguments[1],i=0;t>i;i++)if(i in n){var l=n[i];e.call(r,l,i,n)&&o.push(l)}return o}),w.filter("checkmark",function(){return function(e){return e?"✔":"✘"}}),w.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),m.factory("$domUtilityService",["$utilityService",function(){var e={},n={},o=function(){var n=t("<div></div>");n.appendTo("body"),n.height(100).width(100).css("position","absolute").css("overflow","scroll"),n.append('<div style="height: 400px; width: 400px;"></div>'),e.ScrollH=n.height()-n[0].clientHeight,e.ScrollW=n.width()-n[0].clientWidth,n.empty(),n.attr("style",""),n.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),e.LetterW=n.children().first().width(),n.remove()};return e.eventStorage={},e.AssignGridContainers=function(n,o,r){r.$root=t(o),r.$topPanel=r.$root.find(".ngTopPanel"),r.$groupPanel=r.$root.find(".ngGroupPanel"),r.$headerContainer=r.$topPanel.find(".ngHeaderContainer"),n.$headerContainer=r.$headerContainer,r.$headerScroller=r.$topPanel.find(".ngHeaderScroller"),r.$headers=r.$headerScroller.children(),r.$viewport=r.$root.find(".ngViewport"),r.$canvas=r.$viewport.find(".ngCanvas"),r.$footerPanel=r.$root.find(".ngFooterPanel"),n.$watch(function(){return r.$viewport.scrollLeft()},function(e){return r.$headerContainer.scrollLeft(e)}),e.UpdateGridLayout(n,r)},e.getRealWidth=function(e){var n=0,o={visibility:"hidden",display:"block"},r=e.parents().andSelf().not(":visible");return t.swap(r[0],o,function(){n=e.outerWidth()}),n},e.UpdateGridLayout=function(n,t){var o=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=e.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),n.adjustScrollTop(o,!0)},e.numberOfGrids=0,e.BuildStyles=function(n,o,r){var i,l=o.config.rowHeight,a=o.$styleSheet,s=o.gridId,c=n.columns,g=0;a||(a=t("#"+s),a[0]||(a=t("<style id='"+s+"' type='text/css' rel='stylesheet' />").appendTo(o.$root))),a.empty();var d=n.totalRowWidth();i="."+s+" .ngCanvas { width: "+d+"px; }"+"."+s+" .ngRow { width: "+d+"px; }"+"."+s+" .ngCanvas { width: "+d+"px; }"+"."+s+" .ngHeaderScroller { width: "+(d+e.ScrollH)+"px}";for(var u=0;c.length>u;u++){var f=c[u];if(f.visible!==!1){var p;p=f.colDef.pinRight?o.$viewport.width()-f.width+o.$viewport.scrollLeft():f.pinned?o.$viewport.scrollLeft()+g:g,i+="."+s+" .col"+u+" { width: "+f.width+"px; left: "+p+"px; height: "+l+"px }"+"."+s+" .colt"+u+" { width: "+f.width+"px; }",g+=f.width}}a[0].appendChild(document.createTextNode(i)),o.$styleSheet=a,r&&(n.adjustScrollLeft(o.$viewport.scrollLeft()),e.digest(n))},e.setColLeft=function(e,t,o){if(o.$styleSheet){var r=n[e.index];r||(r=n[e.index]=RegExp(".col"+e.index+" { width: [0-9]+px; left: [0-9]+px"));var i=o.$styleSheet.html(),l=i.replace(r,".col"+e.index+" { width: "+e.width+"px; left: "+t+"px");o.$styleSheet.html(l)}},e.setColLeft.immediate=1,e.RebuildGrid=function(n,t){e.UpdateGridLayout(n,t),t.config.maintainColumnRatios&&t.configureColumnWidths(),n.adjustScrollLeft(t.$viewport.scrollLeft()),e.BuildStyles(n,t,!0)},e.digest=function(e){e.$root.$$phase||e.$digest()},e.ScrollH=17,e.ScrollW=17,e.LetterW=10,o(),e}]),m.factory("$sortService",["$parse",function(e){var n={};return n.colSortFnCache={},n.guessSortFn=function(e){var t=typeof e;switch(t){case"number":return n.sortNumber;case"boolean":return n.sortBool;case"string":return e.match(/^-?[£$¤]?[\d,.]+%?$/)?n.sortNumberStr:n.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?n.sortDate:n.basicSort}},n.basicSort=function(e,n){return e==n?0:n>e?-1:1},n.sortNumber=function(e,n){return e-n},n.sortNumberStr=function(e,n){var t,o,r=!1,i=!1;return t=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(t)&&(r=!0),o=parseFloat(n.replace(/[^0-9.-]/g,"")),isNaN(o)&&(i=!0),r&&i?0:r?1:i?-1:t-o},n.sortAlpha=function(e,n){var t=e.toLowerCase(),o=n.toLowerCase();return t==o?0:o>t?-1:1},n.sortDate=function(e,n){var t=e.getTime(),o=n.getTime();return t==o?0:o>t?-1:1},n.sortBool=function(e,n){return e&&n?0:e||n?e?1:-1:0},n.sortData=function(t,o){if(o&&t){var r,l,a=t.fields.length,s=t.fields,c=o.slice(0);o.sort(function(o,g){for(var d,u=0,f=0;0==u&&a>f;){r=t.columns[f],l=t.directions[f],d=n.getSortFn(r,c);var p=e(s[f])(o),h=e(s[f])(g);!p&&0!=p||!h&&0!=h?h||p?p?h||(u=-1):u=1:u=0:u=d(p,h),f++}return l===i?u:0-u})}},n.Sort=function(e,t){n.isSorting||(n.isSorting=!0,n.sortData(e,t),n.isSorting=!1)},n.getSortFn=function(t,o){var r,i=void 0;if(n.colSortFnCache[t.field])i=n.colSortFnCache[t.field];else if(void 0!=t.sortingAlgorithm)i=t.sortingAlgorithm,n.colSortFnCache[t.field]=t.sortingAlgorithm;else{if(r=o[0],!r)return i;i=n.guessSortFn(e(t.field)(r)),i?n.colSortFnCache[t.field]=i:i=n.sortAlpha}return i},n}]),m.factory("$utilityService",["$parse",function(e){var o=/function (.{1,})\(/,r={visualLength:function(e){var n=document.getElementById("testDataLength");return n||(n=document.createElement("SPAN"),n.id="testDataLength",n.style.visibility="hidden",document.body.appendChild(n)),t(n).css("font",t(e).css("font")),n.innerHTML=t(e).text(),n.offsetWidth},forIn:function(e,n){for(var t in e)e.hasOwnProperty(t)&&n(e[t],t)},evalProperty:function(n,t){return e(t)(n)},endsWith:function(e,n){return e&&n&&"string"==typeof e?-1!==e.indexOf(n,e.length-n.length):!1},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},getElementsByClassName:function(e){for(var n=[],t=RegExp("\\b"+e+"\\b"),o=document.getElementsByTagName("*"),r=0;o.length>r;r++){var i=o[r].className;t.test(i)&&n.push(o[r])}return n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(e,t){var o=n.ngGrid.i18n[t];for(var r in o)e.i18n[r]=o[r]},getInstanceType:function(e){var n=o.exec(""+e.constructor);return n&&n.length>1?n[1]:""},ieVersion:function(){for(var e=3,n=document.createElement("div"),t=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",t[0];);return e>4?e:void 0}()};return t.extend(r,{isIe:function(){return void 0!==r.ieVersion}()}),r}]);var b=function(e,n,t,o){var r=this;r.rowIndex=0,r.offsetTop=r.rowIndex*t,r.entity=e,r.label=e.gLabel,r.field=e.gField,r.depth=e.gDepth,r.parent=e.parent,r.children=e.children,r.aggChildren=e.aggChildren,r.aggIndex=e.aggIndex,r.collapsed=o,r.isAggRow=!0,r.offsetLeft=25*e.gDepth,r.aggLabelFilter=e.aggLabelFilter,r.toggleExpand=function(){r.collapsed=r.collapsed?!1:!0,r.orig&&(r.orig.collapsed=r.collapsed),r.notifyChildren()},r.setExpand=function(e){r.collapsed=e,r.notifyChildren()},r.notifyChildren=function(){for(var e=Math.max(n.aggCache.length,r.children.length),t=0;e>t;t++)if(r.aggChildren[t]&&(r.aggChildren[t].entity[c]=r.collapsed,r.collapsed&&r.aggChildren[t].setExpand(r.collapsed)),r.children[t]&&(r.children[t][c]=r.collapsed),t>r.aggIndex&&n.aggCache[t]){var o=n.aggCache[t],i=30*r.children.length;o.offsetTop=r.collapsed?o.offsetTop-i:o.offsetTop+i}n.renderedChange()},r.aggClass=function(){return r.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},r.totalChildren=function(){if(r.aggChildren.length>0){var e=0,n=function(t){t.aggChildren.length>0?angular.forEach(t.aggChildren,function(e){n(e)}):e+=t.children.length};return n(r),e}return r.children.length},r.copy=function(){var e=new b(r.entity,n,t,o);return e.orig=r,e}},x=function(e,n,o,r,a,s){var c=this,g=e.colDef,u=500,f=0,p=null;c.colDef=e.colDef,c.width=g.width,c.groupIndex=0,c.isGroupedBy=!1,c.minWidth=g.minWidth?g.minWidth:50,c.maxWidth=g.maxWidth?g.maxWidth:9e3,c.enableCellEdit=g.hasOwnProperty("enableCellEdit")?g.enableCellEdit:e.enableCellEdit,c.headerRowHeight=e.headerRowHeight,c.displayName=g.displayName||g.field,c.index=e.index,c.isAggCol=e.isAggCol,c.cellClass=g.cellClass,c.sortPriority=void 0,c.cellFilter=g.cellFilter?g.cellFilter:"",c.field=g.field,c.aggLabelFilter=g.cellFilter||g.aggLabelFilter,c.visible=s.isNullOrUndefined(g.visible)||g.visible,c.sortable=!1,c.resizable=!1,c.pinnable=!1,c.pinned=e.enablePinning&&g.pinned,c.originalIndex=c.index,c.groupable=s.isNullOrUndefined(g.groupable)||g.groupable,e.enableSort&&(c.sortable=s.isNullOrUndefined(g.sortable)||g.sortable),e.enableResize&&(c.resizable=s.isNullOrUndefined(g.resizable)||g.resizable),e.enablePinning&&(c.pinnable=s.isNullOrUndefined(g.pinnable)||g.pinnable),c.sortDirection=void 0,c.sortingAlgorithm=g.sortFn,c.headerClass=g.headerClass,c.cursor=c.sortable?"pointer":"default",c.headerCellTemplate=g.headerCellTemplate||a.get("headerCellTemplate.html"),c.cellTemplate=g.cellTemplate||a.get("cellTemplate.html").replace(d,c.cellFilter?"|"+c.cellFilter:""),c.enableCellEdit&&(c.cellEditTemplate=a.get("cellEditTemplate.html"),c.editableCellTemplate=g.editableCellTemplate||a.get("editableCellTemplate.html")),g.cellTemplate&&!h.test(g.cellTemplate)&&(c.cellTemplate=t.ajax({type:"GET",url:g.cellTemplate,async:!1}).responseText),c.enableCellEdit&&g.editableCellTemplate&&!h.test(g.editableCellTemplate)&&(c.editableCellTemplate=t.ajax({type:"GET",url:g.editableCellTemplate,async:!1}).responseText),g.headerCellTemplate&&!h.test(g.headerCellTemplate)&&(c.headerCellTemplate=t.ajax({type:"GET",url:g.headerCellTemplate,async:!1}).responseText),c.colIndex=function(){var e=c.pinned?"pinned ":"";return e+="col"+c.index+" colt"+c.index,c.cellClass&&(e+=" "+c.cellClass),e},c.groupedByClass=function(){return c.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},c.toggleVisible=function(){c.visible=!c.visible},c.showSortButtonUp=function(){return c.sortable?c.sortDirection===l:c.sortable},c.showSortButtonDown=function(){return c.sortable?c.sortDirection===i:c.sortable},c.noSortVisible=function(){return!c.sortDirection},c.sort=function(n){if(!c.sortable)return!0;var t=c.sortDirection===i?l:i;return c.sortDirection=t,e.sortCallback(c,n),!1},c.gripClick=function(){f++,1===f?p=setTimeout(function(){f=0},u):(clearTimeout(p),e.resizeOnDataCallback(c),f=0)},c.gripOnMouseDown=function(e){return e.ctrlKey&&!c.pinned?(c.toggleVisible(),r.BuildStyles(n,o),!0):(e.target.parentElement.style.cursor="col-resize",c.startMousePosition=e.clientX,c.origWidth=c.width,t(document).mousemove(c.onMouseMove),t(document).mouseup(c.gripOnMouseUp),!1)},c.onMouseMove=function(e){var t=e.clientX-c.startMousePosition,i=t+c.origWidth;return c.width=c.minWidth>i?c.minWidth:i>c.maxWidth?c.maxWidth:i,r.BuildStyles(n,o),!1},c.gripOnMouseUp=function(e){return t(document).off("mousemove",c.onMouseMove),t(document).off("mouseup",c.gripOnMouseUp),e.target.parentElement.style.cursor="default",n.adjustScrollLeft(0),r.digest(n),!1},c.copy=function(){var t=new x(e,n,o,r,a);return t.isClone=!0,t.orig=c,t},c.setVars=function(e){c.orig=e,c.width=e.width,c.groupIndex=e.groupIndex,c.isGroupedBy=e.isGroupedBy,c.displayName=e.displayName,c.index=e.index,c.isAggCol=e.isAggCol,c.cellClass=e.cellClass,c.cellFilter=e.cellFilter,c.field=e.field,c.aggLabelFilter=e.aggLabelFilter,c.visible=e.visible,c.sortable=e.sortable,c.resizable=e.resizable,c.pinnable=e.pinnable,c.pinned=e.pinned,c.originalIndex=e.originalIndex,c.sortDirection=e.sortDirection,c.sortingAlgorithm=e.sortingAlgorithm,c.headerClass=e.headerClass,c.headerCellTemplate=e.headerCellTemplate,c.cellTemplate=e.cellTemplate,c.cellEditTemplate=e.cellEditTemplate}},S=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},y=function(e){var n,t=this;t.selectInputElement=function(e){var n=e.nodeName.toLowerCase();("input"==n||"textarea"==n)&&e.select()},t.focusCellElement=function(t,o){if(t.selectionProvider.lastClickedRow){var r=void 0!=o?o:n,i=t.selectionProvider.lastClickedRow.clone?t.selectionProvider.lastClickedRow.clone.elm:t.selectionProvider.lastClickedRow.elm;if(void 0!=r&&i){var l=angular.element(i[0].children).filter(function(){return 8!=this.nodeType}),a=Math.max(Math.min(t.renderedColumns.length-1,r),0);e.config.showSelectionCheckbox&&angular.element(l[a]).scope()&&0==angular.element(l[a]).scope().col.index&&(a=1),l[a]&&l[a].children[0].focus(),n=r}}};var o=function(e,n){e.css({"-webkit-touch-callout":n,"-webkit-user-select":n,"-khtml-user-select":n,"-moz-user-select":"none"==n?"-moz-none":n,"-ms-user-select":n,"user-select":n})};t.selectionHandlers=function(n,t){var r=!1;t.bind("keydown",function(i){if(16==i.keyCode)return o(t,"none",i),!0;if(!r){r=!0;var l=C(n,t,i,e);return r=!1,l}return!0}),t.bind("keyup",function(e){return 16==e.keyCode&&o(t,"text",e),!0})}},T=function(e,o,r,i){var l=this;l.colToMove=void 0,l.groupToMove=void 0,l.assignEvents=function(){e.config.jqueryUIDraggable&&!e.config.enablePinning?e.$groupPanel.droppable({addClasses:!1,drop:function(e){l.onGroupDrop(e)}}):(e.$groupPanel.on("mousedown",l.onGroupMouseDown).on("dragover",l.dragOver).on("drop",l.onGroupDrop),e.$headerScroller.on("mousedown",l.onHeaderMouseDown).on("dragover",l.dragOver),e.config.enableColumnReordering&&!e.config.enablePinning&&e.$headerScroller.on("drop",l.onHeaderDrop),e.config.enableRowReordering&&e.$viewport.on("mousedown",l.onRowMouseDown).on("dragover",l.dragOver).on("drop",l.onRowDrop)),o.$watch("renderedColumns",function(){i(l.setDraggables)})},l.dragStart=function(e){e.dataTransfer.setData("text","")},l.dragOver=function(e){e.preventDefault()},l.setDraggables=function(){if(e.config.jqueryUIDraggable)e.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){l.onHeaderMouseDown(e)}}).droppable({drop:function(e){l.onHeaderDrop(e)}});else{var n=e.$root.find(".ngHeaderSortColumn");angular.forEach(n,function(e){e.setAttribute("draggable","true"),e.addEventListener&&e.addEventListener("dragstart",l.dragStart)}),-1!=navigator.userAgent.indexOf("MSIE")&&e.$root.find(".ngHeaderSortColumn").bind("selectstart",function(){return this.dragDrop(),!1})}},l.onGroupMouseDown=function(n){var o=t(n.target);if("ngRemoveGroup"!=o[0].className){var r=angular.element(o).scope();r&&(e.config.jqueryUIDraggable||(o.attr("draggable","true"),this.addEventListener&&this.addEventListener("dragstart",l.dragStart),-1!=navigator.userAgent.indexOf("MSIE")&&o.bind("selectstart",function(){return this.dragDrop(),!1})),l.groupToMove={header:o,groupName:r.group,index:r.$index})}else l.groupToMove=void 0},l.onGroupDrop=function(n){n.stopPropagation();var r,i;l.groupToMove?(r=t(n.target).closest(".ngGroupElement"),"ngGroupPanel"==r.context.className?(o.configGroups.splice(l.groupToMove.index,1),o.configGroups.push(l.groupToMove.groupName)):(i=angular.element(r).scope(),i&&l.groupToMove.index!=i.$index&&(o.configGroups.splice(l.groupToMove.index,1),o.configGroups.splice(i.$index,0,l.groupToMove.groupName))),l.groupToMove=void 0,e.fixGroupIndexes()):l.colToMove&&(-1==o.configGroups.indexOf(l.colToMove.col)&&(r=t(n.target).closest(".ngGroupElement"),"ngGroupPanel"==r.context.className||"ngGroupPanelDescription ng-binding"==r.context.className?o.groupBy(l.colToMove.col):(i=angular.element(r).scope(),i&&o.removeGroup(i.$index))),l.colToMove=void 0),o.$$phase||o.$apply()},l.onHeaderMouseDown=function(e){var n=t(e.target).closest(".ngHeaderSortColumn"),o=angular.element(n).scope();o&&(l.colToMove={header:n,col:o.col})},l.onHeaderDrop=function(n){if(l.colToMove&&!l.colToMove.col.pinned){var i=t(n.target).closest(".ngHeaderSortColumn"),a=angular.element(i).scope();if(a){if(l.colToMove.col==a.col)return;o.columns.splice(l.colToMove.col.index,1),o.columns.splice(a.col.index,0,l.colToMove.col),e.fixColumnIndexes(),r.BuildStyles(o,e,!0),l.colToMove=void 0}}},l.onRowMouseDown=function(e){var n=t(e.target).closest(".ngRow"),o=angular.element(n).scope();o&&(n.attr("draggable","true"),r.eventStorage.rowToMove={targetRow:n,scope:o})},l.onRowDrop=function(n){var o=t(n.target).closest(".ngRow"),i=angular.element(o).scope();if(i){var l=r.eventStorage.rowToMove;if(l.scope.row==i.row)return;e.changeRowOrder(l.scope.row,i.row),e.searchProvider.evalFilter(),r.eventStorage.rowToMove=void 0,r.digest(i.$root)}},l.assignGridEventHandlers=function(){-1===e.config.tabIndex?(e.$viewport.attr("tabIndex",r.numberOfGrids),r.numberOfGrids++):e.$viewport.attr("tabIndex",e.config.tabIndex),t(n).resize(function(){r.RebuildGrid(o,e)}),t(e.$root.parent()).on("resize",function(){r.RebuildGrid(o,e)})},l.assignGridEventHandlers(),l.assignEvents()},P=function(e,n){e.maxRows=function(){var e=Math.max(n.config.totalServerItems,n.data.length);return e},e.multiSelect=n.config.enableRowSelection&&n.config.multiSelect,e.selectedItemCount=n.selectedItemCount,e.maxPages=function(){return Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var t=e.pagingOptions.currentPage;n.config.totalServerItems>0?e.pagingOptions.currentPage=Math.min(t+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var n=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(n-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var n=e.maxPages();e.pagingOptions.currentPage=n},e.cantPageForward=function(){var t=e.pagingOptions.currentPage,o=e.maxPages();return n.config.totalServerItems>0?!(o>t):1>n.data.length},e.cantPageToLast=function(){return n.config.totalServerItems>0?e.cantPageForward():!0},e.cantPageBackward=function(){var n=e.pagingOptions.currentPage;return!(n>1)}},I=function(e,i,l,a,s,g,d,u,f,p,m){var v={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowReordering:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50},w=this;w.maxCanvasHt=0,w.config=t.extend(v,n.ngGrid.config,i),w.config.showSelectionCheckbox=w.config.showSelectionCheckbox&&w.config.enableColumnHeavyVirt===!1,w.config.enablePinning=w.config.enablePinning&&w.config.enableColumnHeavyVirt===!1,w.config.selectWithCheckboxOnly=w.config.selectWithCheckboxOnly&&w.config.showSelectionCheckbox!==!1,w.config.pinSelectionCheckbox=w.config.enablePinning,"string"==typeof i.columnDefs&&(w.config.columnDefs=e.$eval(i.columnDefs)),w.rowCache=[],w.rowMap=[],w.gridId="ng"+d.newId(),w.$root=null,w.$groupPanel=null,w.$topPanel=null,w.$headerContainer=null,w.$headerScroller=null,w.$headers=null,w.$viewport=null,w.$canvas=null,w.rootDim=w.config.gridDim,w.data=[],w.lateBindColumns=!1,w.filteredRows=[],w.initTemplates=function(){var e=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],n=[];return e.forEach(function(e){n.push(w.getTemplate(e))}),m.all(n)},w.getTemplate=function(e){var n=w.config[e],t=w.gridId+e+".html",o=m.defer();if(n&&!h.test(n))p.get(n,{cache:g}).success(function(e){g.put(t,e),o.resolve()}).error(function(){o.reject("Could not load template: "+n)});else if(n)g.put(t,n),o.resolve();else{var r=e+".html";g.put(t,g.get(r)),o.resolve()}return o.promise},"object"==typeof w.config.data&&(w.data=w.config.data),w.calcMaxCanvasHeight=function(){return w.config.groups.length>0?w.rowFactory.parsedData.filter(function(e){return!e[c]}).length*w.config.rowHeight:w.filteredRows.length*w.config.rowHeight},w.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0},w.setRenderedRows=function(n){e.renderedRows.length=n.length;for(var t=0;n.length>t;t++)!e.renderedRows[t]||n[t].isAggRow||e.renderedRows[t].isAggRow?(e.renderedRows[t]=n[t].copy(),e.renderedRows[t].collapsed=n[t].collapsed,n[t].isAggRow||e.renderedRows[t].setVars(n[t])):e.renderedRows[t].setVars(n[t]),e.renderedRows[t].rowIndex=n[t].rowIndex,e.renderedRows[t].offsetTop=n[t].offsetTop,e.renderedRows[t].selected=n[t].selected,n[t].renderedRowIndex=t;w.refreshDomSizes(),e.$emit("ngGridEventRows",n)},w.minRowsToRender=function(){var n=e.viewportDimHeight()||1;return Math.floor(n/w.config.rowHeight)},w.refreshDomSizes=function(){var e=new S;e.outerWidth=w.elementDims.rootMaxW,e.outerHeight=w.elementDims.rootMaxH,w.rootDim=e,w.maxCanvasHt=w.calcMaxCanvasHeight()},w.buildColumnDefsFromData=function(){w.config.columnDefs=[];var e=w.data[0];return e?(d.forIn(e,function(e,n){-1==w.config.excludeProperties.indexOf(n)&&w.config.columnDefs.push({field:n})}),void 0):(w.lateBoundColumns=!0,void 0)},w.buildColumns=function(){var n=w.config.columnDefs,t=[];if(n||(w.buildColumnDefsFromData(),n=w.config.columnDefs),w.config.showSelectionCheckbox&&t.push(new x({colDef:{field:"✔",width:w.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:g.get(e.gridId+"checkboxHeaderTemplate.html"),cellTemplate:g.get(e.gridId+"checkboxCellTemplate.html"),pinned:w.config.pinSelectionCheckbox},index:0,headerRowHeight:w.config.headerRowHeight,sortCallback:w.sortData,resizeOnDataCallback:w.resizeOnData,enableResize:w.config.enableColumnResize,enableSort:w.config.enableSorting,enablePinning:w.config.enablePinning},e,w,a,g,d)),n.length>0){var o=w.config.showSelectionCheckbox?w.config.groups.length+1:w.config.groups.length;e.configGroups.length=0,angular.forEach(n,function(n,r){r+=o;var i=new x({colDef:n,index:r,headerRowHeight:w.config.headerRowHeight,sortCallback:w.sortData,resizeOnDataCallback:w.resizeOnData,enableResize:w.config.enableColumnResize,enableSort:w.config.enableSorting,enablePinning:w.config.enablePinning,enableCellEdit:w.config.enableCellEdit,pinRight:w.config.pinRight},e,w,a,g,d),l=w.config.groups.indexOf(n.field);-1!=l&&(i.isGroupedBy=!0,e.configGroups.splice(l,0,i),i.groupIndex=e.configGroups.length),t.push(i)}),e.columns=t}},w.configureColumnWidths=function(){var n=w.config.columnDefs,t=w.config.showSelectionCheckbox?e.configGroups.length+1:e.configGroups.length,o=(n.length+t,[]),r=[],i=0,l=0;if(l+=w.config.showSelectionCheckbox?25:0,angular.forEach(n,function(n,a){a+=t;var s=!1,c=void 0;if(d.isNullOrUndefined(n.width)?n.width="*":(s=isNaN(n.width)?d.endsWith(n.width,"%"):!1,c=s?n.width:parseInt(n.width,10)),isNaN(c)){if(c=n.width,"auto"==c){e.columns[a].width=n.minWidth,l+=e.columns[a].width;var g=e.columns[a];return u(function(){w.resizeOnData(g,!0)}),void 0}if(-1!=c.indexOf("*"))return n.visible!==!1&&(i+=c.length),n.index=a,o.push(n),void 0;if(s)return n.index=a,r.push(n),void 0;throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}n.visible!==!1&&(l+=e.columns[a].width=parseInt(n.width,10))}),o.length>0){w.config.maintainColumnRatios===!1?angular.noop():w.config.maintainColumnRatios=!0;var s=w.rootDim.outerWidth-l,c=Math.floor(s/i);angular.forEach(o,function(n){var t=n.width.length;e.columns[n.index].width=c*t;var o=1;w.maxCanvasHt>e.viewportDimHeight()&&(o+=a.ScrollW),e.columns[n.index].width-=o,n.visible!==!1&&(l+=e.columns[n.index].width)})}r.length>0&&angular.forEach(r,function(n){var t=n.width;e.columns[n.index].width=Math.floor(w.rootDim.outerWidth*(parseInt(t.slice(0,-1),10)/100))})},w.init=function(){return w.initTemplates().then(function(){e.selectionProvider=new G(w,e,f),e.domAccessProvider=new y(w),w.rowFactory=new D(w,e,a,g,d),w.searchProvider=new L(e,w,s),w.styleProvider=new H(e,w),e.$watch("configGroups",function(n){var t=[];angular.forEach(n,function(e){t.push(e.field||e)}),w.config.groups=t,w.rowFactory.filteredRowsChanged(),e.$emit("ngGridEventGroups",n)},!0),e.$watch("columns",function(n){a.BuildStyles(e,w,!0),e.$emit("ngGridEventColumns",n)},!0),e.$watch(function(){return i.i18n},function(n){d.seti18n(e,n)}),w.maxCanvasHt=w.calcMaxCanvasHeight(),w.config.sortInfo.fields&&w.config.sortInfo.fields.length>0&&(w.getColsFromFields(),w.sortActual())})},w.resizeOnData=function(n){var o=n.minWidth,r=d.getElementsByClassName("col"+n.index);angular.forEach(r,function(e,n){var r;if(0===n){var i=t(e).find(".ngHeaderText");r=d.visualLength(i)+10}else{var l=t(e).find(".ngCellText");r=d.visualLength(l)+10}r>o&&(o=r)}),n.width=n.longest=Math.min(n.maxWidth,o+7),a.BuildStyles(e,w,!0)},w.lastSortedColumns=[],w.changeRowOrder=function(n,t){var o=w.rowCache.indexOf(n),r=w.rowCache.indexOf(t);w.rowCache.splice(o,1),w.rowCache.splice(r,0,n),e.$emit("ngGridEventChangeOrder",w.rowCache)},w.sortData=function(n,o){if(o&&o.shiftKey&&w.config.sortInfo){var r=w.config.sortInfo.columns.indexOf(n);-1===r?(1==w.config.sortInfo.columns.length&&(w.config.sortInfo.columns[0].sortPriority=1),w.config.sortInfo.columns.push(n),n.sortPriority=w.config.sortInfo.columns.length,w.config.sortInfo.fields.push(n.field),w.config.sortInfo.directions.push(n.sortDirection),w.lastSortedColumns.push(n)):w.config.sortInfo.directions[r]=n.sortDirection}else{var i=t.isArray(n);w.config.sortInfo.columns.length=0,w.config.sortInfo.fields.length=0,w.config.sortInfo.directions.length=0;var l=function(e){w.config.sortInfo.columns.push(e),w.config.sortInfo.fields.push(e.field),w.config.sortInfo.directions.push(e.sortDirection),w.lastSortedColumns.push(e)};i?(w.clearSortingData(),angular.forEach(n,function(e,n){e.sortPriority=n+1,l(e)})):(w.clearSortingData(n),n.sortPriority=void 0,l(n))}w.sortActual(),w.searchProvider.evalFilter(),e.$emit("ngGridEventSorted",w.config.sortInfo)},w.getColsFromFields=function(){w.config.sortInfo.columns?w.config.sortInfo.columns.length=0:w.config.sortInfo.columns=[],angular.forEach(e.columns,function(e){var n=w.config.sortInfo.fields.indexOf(e.field);return-1!=n&&(e.sortDirection=w.config.sortInfo.directions[n]||"asc",w.config.sortInfo.columns.push(e)),!1})},w.sortActual=function(){if(!w.config.useExternalSorting){var e=w.data.slice(0);angular.forEach(e,function(e,n){var t=w.rowMap[n];if(void 0!=t){var o=w.rowCache[n];void 0!=o&&(e.preSortSelected=o.selected,e.preSortIndex=n)}}),l.Sort(w.config.sortInfo,e),angular.forEach(e,function(e,n){w.rowCache[n].entity=e,w.rowCache[n].selected=e.preSortSelected,w.rowMap[e.preSortIndex]=n,delete e.preSortSelected,delete e.preSortIndex})}},w.clearSortingData=function(e){e?(angular.forEach(w.lastSortedColumns,function(n){e.index!=n.index&&(n.sortDirection="",n.sortPriority=null)}),w.lastSortedColumns[0]=e,w.lastSortedColumns.length=1):(angular.forEach(w.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),w.lastSortedColumns=[])},w.fixColumnIndexes=function(){for(var n=0;e.columns.length>n;n++)e.columns[n].visible!==!1&&(e.columns[n].index=n)},w.fixGroupIndexes=function(){angular.forEach(e.configGroups,function(e,n){e.groupIndex=n+1})},e.elementsNeedMeasuring=!0,e.columns=[],e.renderedRows=[],e.renderedColumns=[],e.headerRow=null,e.rowHeight=w.config.rowHeight,e.jqueryUITheme=w.config.jqueryUITheme,e.showSelectionCheckbox=w.config.showSelectionCheckbox,e.enableCellSelection=w.config.enableCellSelection,e.footer=null,e.selectedItems=w.config.selectedItems,e.multiSelect=w.config.multiSelect,e.showFooter=w.config.showFooter,e.footerRowHeight=e.showFooter?w.config.footerRowHeight:0,e.showColumnMenu=w.config.showColumnMenu,e.showMenu=!1,e.configGroups=[],e.gridId=w.gridId,e.enablePaging=w.config.enablePaging,e.pagingOptions=w.config.pagingOptions,e.i18n={},d.seti18n(e,w.config.i18n),e.adjustScrollLeft=function(n){for(var t=0,o=0,r=e.columns.length,i=[],l=!w.config.enableColumnHeavyVirt,s=0,c=function(n){l?i.push(n):e.renderedColumns[s]?e.renderedColumns[s].setVars(n):e.renderedColumns[s]=n.copy(),s++},g=0;r>g;g++){var d=e.columns[g];if(d.visible!==!1){var u=d.width+t,f=0;if(d.pinned){c(d);var p;if(d.colDef.pinRight){p=parseInt(e.viewportStyle().width)-d.width+n-a.ScrollW,f+=d.width;var h=e.totalRowWidth()-f;p>=h&&(p=h)}else p=g>0?n+o:n,o+=d.width;a.setColLeft(d,p,w)}else u>=n&&n+w.rootDim.outerWidth>=t&&c(d);t+=d.width}}l&&(e.renderedColumns=i)},w.prevScrollTop=0,w.prevScrollIndex=0,e.adjustScrollTop=function(n,t){if(w.prevScrollTop!==n||t){n>0&&w.$viewport[0].scrollHeight-n<=w.$viewport.outerHeight()&&e.$emit("ngGridEventScroll");var i,l=Math.floor(n/w.config.rowHeight);if(w.filteredRows.length>w.config.virtualizationThreshold){if(n>w.prevScrollTop&&w.prevScrollIndex+r>l)return;if(w.prevScrollTop>n&&l>w.prevScrollIndex-r)return;i=new R(Math.max(0,l-o),l+w.minRowsToRender()+o)}else{var a=e.configGroups.length>0?w.rowFactory.parsedData.length:w.data.length;i=new R(0,Math.max(a,w.minRowsToRender()+o))}w.prevScrollTop=n,w.rowFactory.UpdateViewableRange(i),w.prevScrollIndex=l}},e.toggleShowMenu=function(){e.showMenu=!e.showMenu},e.toggleSelectAll=function(n){e.selectionProvider.toggleSelectAll(n)},e.totalFilteredItemsLength=function(){return w.filteredRows.length},e.showGroupPanel=function(){return w.config.showGroupPanel
},e.topPanelHeight=function(){return w.config.showGroupPanel===!0?w.config.headerRowHeight+32:w.config.headerRowHeight},e.viewportDimHeight=function(){return Math.max(0,w.rootDim.outerHeight-e.topPanelHeight()-e.footerRowHeight-2)},e.groupBy=function(n){if(!(1>w.data.length)&&n.groupable&&n.field){n.sortDirection||n.sort({shiftKey:e.configGroups.length>0?!0:!1});var t=e.configGroups.indexOf(n);-1==t?(n.isGroupedBy=!0,e.configGroups.push(n),n.groupIndex=e.configGroups.length):e.removeGroup(t),w.$viewport.scrollTop(0),a.digest(e)}},e.removeGroup=function(n){var t=e.columns.filter(function(e){return e.groupIndex==n+1})[0];t.isGroupedBy=!1,t.groupIndex=0,e.columns[n].isAggCol&&(e.columns.splice(n,1),e.configGroups.splice(n,1),w.fixGroupIndexes()),0===e.configGroups.length&&(w.fixColumnIndexes(),a.digest(e)),e.adjustScrollLeft(0)},e.togglePin=function(n){for(var t=n.index,o=0,r=0;e.columns.length>r&&e.columns[r].pinned;r++)o++;n.pinned&&(o=Math.max(n.originalIndex,o-1)),n.pinned=!n.pinned,e.columns.splice(t,1),e.columns.splice(o,0,n),w.fixColumnIndexes(),a.BuildStyles(e,w,!0),w.$viewport.scrollLeft(w.$viewport.scrollLeft()-n.width)},e.totalRowWidth=function(){for(var n=0,t=e.columns,o=0;t.length>o;o++)t[o].visible!==!1&&(n+=t[o].width);return n},e.headerScrollerDim=function(){var n=e.viewportDimHeight(),t=w.maxCanvasHt,o=t>n,r=new S;return r.autoFitHeight=!0,r.outerWidth=e.totalRowWidth(),o?r.outerWidth+=w.elementDims.scrollW:w.elementDims.scrollH>=t-n&&(r.outerWidth+=w.elementDims.scrollW),r}},R=function(e,n){this.topRow=e,this.bottomRow=n},$=function(e,n,t,o,r){var i=this,l=n.enableRowSelection;i.jqueryUITheme=n.jqueryUITheme,i.rowClasses=n.rowClasses,i.entity=e,i.selectionProvider=t,i.selected=t.getSelection(e),i.cursor=l?"pointer":"default",i.setSelection=function(e){i.selectionProvider.setSelection(i,e),i.selectionProvider.lastClickedRow=i},i.continueSelection=function(e){i.selectionProvider.ChangeSelection(i,e)},i.ensureEntity=function(e){i.entity!=e&&(i.entity=e,i.selected=i.selectionProvider.getSelection(i.entity))},i.toggleSelected=function(e){if(!l&&!n.enableCellSelection)return!0;var t=e.target||e;return"checkbox"==t.type&&"ngSelectionCell ng-scope"!=t.parentElement.className?!0:n.selectWithCheckboxOnly&&"checkbox"!=t.type?(i.selectionProvider.lastClickedRow=i,!0):(i.beforeSelectionChange(i,e)&&i.continueSelection(e),!1)},i.rowIndex=o,i.offsetTop=i.rowIndex*n.rowHeight,i.rowDisplayIndex=0,i.alternatingRowClass=function(){var e=0===i.rowIndex%2,n={ngRow:!0,selected:i.selected,even:e,odd:!e,"ui-state-default":i.jqueryUITheme&&e,"ui-state-active":i.jqueryUITheme&&!e};return n},i.beforeSelectionChange=n.beforeSelectionChangeCallback,i.afterSelectionChange=n.afterSelectionChangeCallback,i.getProperty=function(e){return r.evalProperty(i.entity,e)},i.copy=function(){return i.clone=new $(e,n,t,o,r),i.clone.isClone=!0,i.clone.elm=i.elm,i.clone.orig=i,i.clone},i.setVars=function(e){e.clone=i,i.entity=e.entity,i.selected=e.selected}},D=function(e,n,t,r,i){var l=this;l.aggCache={},l.parentCache=[],l.dataChanged=!0,l.parsedData=[],l.rowConfig={},l.selectionProvider=n.selectionProvider,l.rowHeight=30,l.numberOfAggregates=0,l.groupedData=void 0,l.rowHeight=e.config.rowHeight,l.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:n.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},l.renderedRange=new R(0,e.minRowsToRender()+o),l.buildEntityRow=function(e,n){return new $(e,l.rowConfig,l.selectionProvider,n,i)},l.buildAggregateRow=function(n,t){var o=l.aggCache[n.aggIndex];return o||(o=new b(n,l,l.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),l.aggCache[n.aggIndex]=o),o.rowIndex=t,o.offsetTop=t*l.rowConfig.rowHeight,o},l.UpdateViewableRange=function(e){l.renderedRange=e,l.renderedChange()},l.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,n.$evalAsync(function(){n.adjustScrollLeft(0)})),l.dataChanged=!0,e.config.groups.length>0&&l.getGrouping(e.config.groups),l.UpdateViewableRange(l.renderedRange)},l.renderedChange=function(){if(!l.groupedData||1>e.config.groups.length)return l.renderedChangeNoGroups(),e.refreshDomSizes(),void 0;l.wasGrouped=!0,l.parentCache=[];var n=0,t=l.parsedData.filter(function(e){return e.isAggRow?e.parent&&e.parent.collapsed?!1:!0:(e[c]||(e.rowIndex=n++),!e[c])});l.totalRows=t.length;for(var o=[],r=l.renderedRange.topRow;l.renderedRange.bottomRow>r;r++)t[r]&&(t[r].offsetTop=r*e.config.rowHeight,o.push(t[r]));e.setRenderedRows(o)},l.renderedChangeNoGroups=function(){for(var n=[],t=l.renderedRange.topRow;l.renderedRange.bottomRow>t;t++)e.filteredRows[t]&&(e.filteredRows[t].rowIndex=t,e.filteredRows[t].offsetTop=t*e.config.rowHeight,n.push(e.filteredRows[t]));e.setRenderedRows(n)},l.fixRowCache=function(){var n=e.data.length,t=n-e.rowCache.length;if(0>t)e.rowCache.length=e.rowMap.length=n;else for(var o=e.rowCache.length;n>o;o++)e.rowCache[o]=e.rowFactory.buildEntityRow(e.data[o],o)},l.parseGroupData=function(e){if(e.values)for(var n=0;e.values.length>n;n++)l.parentCache[l.parentCache.length-1].children.push(e.values[n]),l.parsedData.push(e.values[n]);else for(var t in e)if(t!=a&&t!=s&&t!=g&&e.hasOwnProperty(t)){var o=l.buildAggregateRow({gField:e[a],gLabel:t,gDepth:e[s],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:l.numberOfAggregates,aggLabelFilter:e[g].aggLabelFilter},0);l.numberOfAggregates++,o.parent=l.parentCache[o.depth-1],o.parent&&(o.parent.collapsed=!1,o.parent.aggChildren.push(o)),l.parsedData.push(o),l.parentCache[o.depth]=o,l.parseGroupData(e[t])}},l.getGrouping=function(o){l.aggCache=[],l.numberOfAggregates=0,l.groupedData={};for(var d=e.filteredRows,u=o.length,f=n.columns,p=0;d.length>p;p++){var h=d[p].entity;if(!h)return;d[p][c]=e.config.groupsCollapsedByDefault;for(var m=l.groupedData,v=0;o.length>v;v++){var w=o[v],C=f.filter(function(e){return e.field==w})[0],b=i.evalProperty(h,w);b=b?""+b:"null",m[b]||(m[b]={}),m[a]||(m[a]=w),m[s]||(m[s]=v),m[g]||(m[g]=C),m=m[b]}m.values||(m.values=[]),m.values.push(d[p])}for(var S=0;o.length>S;S++)!f[S].isAggCol&&u>=S&&f.splice(0,0,new x({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},n,e,t,r,i));t.BuildStyles(n,e,!0),e.fixColumnIndexes(),n.adjustScrollLeft(0),l.parsedData.length=0,l.parseGroupData(l.groupedData),l.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&l.getGrouping(e.config.groups)},L=function(e,n,o){var r=this,i=[];r.extFilter=n.config.filterOptions.useExternalFilter,e.showFilter=n.config.showFilter,e.filterText="",r.fieldMap={},r.evalFilter=function(){var e=function(e){for(var n=0,t=i.length;t>n;n++){var a,s=i[n];if(!s.column){for(var c in e)if(e.hasOwnProperty(c)){var g=r.fieldMap[c];if(!g)continue;var d=null,u=null;g&&g.cellFilter&&(u=g.cellFilter.split(":"),d=o(u[0]));var f=e[c];if(null!=f){if("function"==typeof d){var p=""+d("object"==typeof f?l(f,g.field):f,u[1]);a=s.regex.test(p)}else a=s.regex.test("object"==typeof f?""+l(f,g.field):""+f);if(f&&a)return!0}}return!1}var h=r.fieldMap[s.columnDisplay];if(!h)return!1;var m=h.cellFilter.split(":"),v=h.cellFilter?o(m[0]):null,w=e[s.column]||e[h.field.split(".")[0]];if(null==w)return!1;if("function"==typeof v){var C=""+v("object"==typeof w?l(w,h.field):w,m[1]);a=s.regex.test(C)}else a=s.regex.test("object"==typeof w?""+l(w,h.field):""+w);if(!w||!a)return!1}return!0};n.filteredRows=0===i.length?n.rowCache:n.rowCache.filter(function(n){return e(n.entity)});for(var t=0;n.filteredRows.length>t;t++)n.filteredRows[t].rowIndex=t;n.rowFactory.filteredRowsChanged()};var l=function(e,n){if("object"!=typeof e||"string"!=typeof n)return e;var t=n.split("."),o=e;if(t.length>1){for(var r=1,i=t.length;i>r;r++)if(o=o[t[r]],!o)return e;return o}return e},a=function(e,n){try{return RegExp(e,n)}catch(t){return RegExp(e.replace(/(\^|\$|\(|\)|\<|\>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},s=function(e){i=[];var n;if(n=t.trim(e))for(var o=n.split(";"),r=0;o.length>r;r++){var l=o[r].split(":");if(l.length>1){var s=t.trim(l[0]),c=t.trim(l[1]);s&&c&&i.push({column:s,columnDisplay:s.replace(/\s+/g,"").toLowerCase(),regex:a(c,"i")})}else{var g=t.trim(l[0]);g&&i.push({column:"",regex:a(g,"i")})}}};e.$watch(function(){return n.config.filterOptions.filterText},function(n){e.filterText=n}),e.$watch("filterText",function(n){r.extFilter||(e.$emit("ngGridEventFilter",n),s(n),r.evalFilter())}),r.extFilter||e.$watch("columns",function(e){for(var n=0;e.length>n;n++){var t=e[n];t.field&&(r.fieldMap[t.field.split(".")[0]]=t),t.displayName&&(r.fieldMap[t.displayName.toLowerCase().replace(/\s+/g,"")]=t)}})},G=function(e,n,t){var o=this;o.multi=e.config.multiSelect,o.selectedItems=e.config.selectedItems,o.selectedIndex=e.config.selectedIndex,o.lastClickedRow=void 0,o.ignoreSelectedItemChanges=!1,o.pKeyParser=t(e.config.primaryKey),o.ChangeSelection=function(t,r){var i=r.which||r.keyCode,l=40===i||38===i;if(!r||r.keyCode&&!l||r.ctrlKey||r.shiftKey||o.toggleSelectAll(!1,!0),r&&r.shiftKey&&!r.keyCode&&o.multi&&e.config.enableRowSelection){if(o.lastClickedRow){var a;a=n.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var s=t.rowIndex,c=o.lastClickedRow.rowIndex;if(o.lastClickedRow=t,s==c)return!1;c>s?(s^=c,c=s^c,s^=c,s--):c++;for(var g=[];s>=c;c++)g.push(a[c]);if(g[g.length-1].beforeSelectionChange(g,r)){for(var d=0;g.length>d;d++){var u=g[d],f=u.selected;u.selected=!f,u.clone&&(u.clone.selected=u.selected);var p=o.selectedItems.indexOf(u.entity);-1===p?o.selectedItems.push(u.entity):o.selectedItems.splice(p,1)}g[g.length-1].afterSelectionChange(g,r)}return!0}}else o.multi?(!r.keyCode||l)&&o.setSelection(t,!t.selected):o.lastClickedRow==t?o.setSelection(o.lastClickedRow,e.config.keepLastSelected?!0:!t.selected):(o.lastClickedRow&&o.setSelection(o.lastClickedRow,!1),o.setSelection(t,!t.selected));return o.lastClickedRow=t,!0},o.getSelection=function(n){var t=!1;if(e.config.primaryKey){var r=o.pKeyParser(n);angular.forEach(o.selectedItems,function(e){r==o.pKeyParser(e)&&(t=!0)})}else t=-1!==o.selectedItems.indexOf(n);return t},o.setSelection=function(n,t){if(e.config.enableRowSelection){if(t)-1===o.selectedItems.indexOf(n.entity)&&(!o.multi&&o.selectedItems.length>0&&o.toggleSelectAll(!1,!0),o.selectedItems.push(n.entity));else{var r=o.selectedItems.indexOf(n.entity);-1!=r&&o.selectedItems.splice(r,1)}n.selected=t,n.orig&&(n.orig.selected=t),n.clone&&(n.clone.selected=t),n.afterSelectionChange(n)}},o.toggleSelectAll=function(n,t){if(t||e.config.beforeSelectionChange(e.filteredRows,n)){var r=o.selectedItems.length;r>0&&(o.selectedItems.length=0);for(var i=0;e.filteredRows.length>i;i++)e.filteredRows[i].selected=n,e.filteredRows[i].clone&&(e.filteredRows[i].clone.selected=n),n&&o.selectedItems.push(e.filteredRows[i].entity);t||e.config.afterSelectionChange(e.filteredRows,n)}}},H=function(e,n){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(n){var t={top:n.offsetTop+"px",height:e.rowHeight+"px"};return n.isAggRow&&(t.left=n.offsetLeft),t},e.canvasStyle=function(){return{height:""+n.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:n.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:n.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:n.rootDim.outerWidth+"px",height:n.config.headerRowHeight+"px"}},e.groupPanelStyle=function(){return{width:n.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:n.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:n.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};v.directive("ngCellHasFocus",["$domUtilityService",function(n){var o=function(e,t){e.isFocused=!0,n.digest(e);var o=angular.element(t[0].children).filter(function(){return 8!=this.nodeType}),r=angular.element(o[0].children[0]);r.length>0&&(angular.element(r).focus(),e.domAccessProvider.selectInputElement(r[0]),angular.element(r).bind("blur",function(){return e.isFocused=!1,n.digest(e),!0}))};return function(n,r){var i=!1;n.editCell=function(){t(e.target).parent(".ngCellText").hasClass("read-only")||setTimeout(function(){o(n,r)},0)},r.bind("mousedown",function(){return r.focus(),!0}),r.bind("focus",function(){return i=!0,!0}),r.bind("blur",function(){return i=!1,!0}),r.bind("keydown",function(e){return i&&37!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode&&9!=e.keyCode&&!e.shiftKey&&13!=e.keyCode&&o(n,r),27==e.keyCode&&r.focus(),!0})}}]),v.directive("ngCellText",function(){return function(e,n){n.bind("mouseover",function(e){e.preventDefault(),n.css({cursor:"text"})}),n.bind("mouseleave",function(e){e.preventDefault(),n.css({cursor:"default"})})}}),v.directive("ngCell",["$compile","$domUtilityService",function(e,n){var t={scope:!1,compile:function(){return{pre:function(n,t){var o,r=n.col.cellTemplate.replace(u,"$eval('row.entity.' + col.field)");n.col.enableCellEdit?(o=n.col.cellEditTemplate,o=o.replace(f,r),o=o.replace(p,n.col.editableCellTemplate.replace(u,"$eval('row.entity.' + col.field)"))):o=r;var i=e(o)(n);n.enableCellSelection&&-1==i[0].className.indexOf("ngSelectionCell")&&(i[0].setAttribute("tabindex",0),i.addClass("ngCellElement")),t.append(i)},post:function(e,t){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,t),e.$on("ngGridEventDigestCell",function(){n.digest(e)})}}}};return t}]),v.directive("ngGridFooter",["$compile","$templateCache",function(e,n){var t={scope:!1,compile:function(){return{pre:function(t,o){0===o.children().length&&o.append(e(n.get(t.gridId+"footerTemplate.html"))(t))}}}};return t}]),v.directive("ngGridMenu",["$compile","$templateCache",function(e,n){var t={scope:!1,compile:function(){return{pre:function(t,o){0===o.children().length&&o.append(e(n.get(t.gridId+"menuTemplate.html"))(t))}}}};return t}]),v.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(e,n,o,r,i,l,a,s,c,g){var d={scope:!0,compile:function(){return{pre:function(d,u,f){var p=t(u),h=d.$eval(f.ngGrid);h.gridDim=new S({outerHeight:t(p).height(),outerWidth:t(p).width()});var m=new I(d,h,r,i,n,o,l,a,s,c,g);return m.init().then(function(){if("string"==typeof h.columnDefs?d.$parent.$watch(h.columnDefs,function(e){return e?(m.lateBoundColumns=!1,d.columns=[],m.config.columnDefs=e,m.buildColumns(),m.configureColumnWidths(),m.eventProvider.assignEvents(),i.RebuildGrid(d,m),void 0):(m.refreshDomSizes(),m.buildColumns(),void 0)},!0):m.buildColumns(),"string"==typeof h.data){var n=function(e){m.data=t.extend([],e),m.rowFactory.fixRowCache(),angular.forEach(m.data,function(e,n){var t=m.rowMap[n]||n;m.rowCache[t]&&m.rowCache[t].ensureEntity(e),m.rowMap[t]=n}),m.searchProvider.evalFilter(),m.configureColumnWidths(),m.refreshDomSizes(),m.config.sortInfo.fields.length>0&&(m.getColsFromFields(),m.sortActual(),m.searchProvider.evalFilter(),d.$emit("ngGridEventSorted",m.config.sortInfo)),d.$emit("ngGridEventData",m.gridId)};d.$parent.$watch(h.data,n),d.$parent.$watch(h.data+".length",function(){n(d.$eval(h.data))})}return m.footerController=new P(d,m),u.addClass("ngGrid").addClass(""+m.gridId),h.enableHighlighting||u.addClass("unselectable"),h.jqueryUITheme&&u.addClass("ui-widget"),u.append(e(o.get("gridTemplate.html"))(d)),i.AssignGridContainers(d,u,m),m.eventProvider=new T(m,d,i,a),h.selectRow=function(e,n){m.rowCache[e]&&(m.rowCache[e].clone&&m.rowCache[e].clone.setSelection(n?!0:!1),m.rowCache[e].setSelection(n?!0:!1))},h.selectItem=function(e,n){h.selectRow(m.rowMap[e],n)},h.selectAll=function(e){d.toggleSelectAll(e)},h.groupBy=function(e){if(e)d.groupBy(d.columns.filter(function(n){return n.field==e})[0]);else{var n=t.extend(!0,[],d.configGroups);angular.forEach(n,d.groupBy)}},h.sortBy=function(e){var n=d.columns.filter(function(n){return n.field==e})[0];n&&n.sort()},h.gridId=m.gridId,h.ngGrid=m,h.$gridScope=d,h.$gridServices={SortService:r,DomUtilityService:i},d.$on("ngGridEventDigestGrid",function(){i.digest(d.$parent)}),d.$on("ngGridEventDigestGridParent",function(){i.digest(d.$parent)}),d.$evalAsync(function(){d.adjustScrollLeft(0)}),angular.forEach(h.plugins,function(e){"function"==typeof e&&(e=e.call(this)),e.init(d.$new(),m,h.$gridServices),h.plugins[l.getInstanceType(e)]=e}),"function"==h.init&&h.init(m,d),null})}}}};return d}]),v.directive("ngHeaderCell",["$compile",function(e){var n={scope:!1,compile:function(){return{pre:function(n,t){t.append(e(n.col.headerCellTemplate)(n))}}}};return n}]),v.directive("ngIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,n,t){return function(e,n,o){var r,i;e.$watch(o.ngIf,function(o){r&&(r.remove(),r=void 0),i&&(i.$destroy(),i=void 0),o&&(i=e.$new(),t(i,function(e){r=e,n.after(e)}))})}}}}]),v.directive("ngInput",["$parse",function(){return function(e,n,t){n.bind("keyup",function(){var o=n.val();e.$root.$$phase||(e.row.entity[t.columnField]=o)}),n.bind("keydown",function(t){switch(t.keyCode){case 37:case 38:case 39:case 40:t.stopPropagation();break;case 27:e.$root.$$phase||e.$apply(function(){n.blur()});default:}return!0})}}]),v.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,n,t){var o={scope:!1,compile:function(){return{pre:function(o,r){if(o.row.elm=r,o.row.clone&&(o.row.clone.elm=r),o.row.isAggRow){var i=t.get(o.gridId+"aggregateTemplate.html");i=o.row.aggLabelFilter?i.replace(d,"| "+o.row.aggLabelFilter):i.replace(d,""),r.append(e(i)(o))}else r.append(e(t.get(o.gridId+"rowTemplate.html"))(o));o.$on("ngGridEventDigestRow",function(){n.digest(o)})}}}};return o}]),v.directive("ngViewport",[function(){return function(e,n){var t,o,r=0;n.bind("scroll",function(n){var i=n.target.scrollLeft,l=n.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(i),e.adjustScrollLeft(i),e.adjustScrollTop(l),e.$root.$$phase||e.$digest(),o=i,r=r,t=!1,!0}),n.bind("mousewheel DOMMouseScroll",function(){return t=!0,n.focus(),!0}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,n)}}]),n.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},n.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"},n.ngGrid.i18n.ge={ngAggregateLabel:"artikel",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hier und legen Sie es der Gruppe nach dieser Spalte.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Artikel:",ngTotalItemsLabel:"Meiste Artikel:",ngSelectedItemsLabel:"Ausgewählte Artikel:",ngPageSizeLabel:"Größe Seite:",ngPagerFirstTitle:"Erste Page",ngPagerNextTitle:"Nächste Page",ngPagerPrevTitle:"Vorherige Page",ngPagerLastTitle:"Letzte Page"},n.ngGrid.i18n.sp={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},n.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"},n.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"},angular.module("ngGrid").run(["$templateCache",function(e){e.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>    <div class="{{row.aggClass()}}"></div></div>'),e.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="editCell($event)">	<div ng-if="!isFocused">	DISPLAY_CELL_TEMPLATE	</div>	<div ng-if="isFocused">	EDITABLE_CELL_TEMPLATE	</div></div>'),e.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),e.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),e.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected)"/>'),e.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" />'),e.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">    <div class="ngTotalSelectContainer" >        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>        </div>        <div class="ngFooterSelectedItems" ng-show="multiSelect">            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>        </div>    </div>    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>            </select>        </div>        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">            <button class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>            <button class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>            <input class="ngPagerCurrent" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>            <button class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>            <button class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>        </div>    </div></div>'),e.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>        <ul ng-show="configGroups.length > 0" class="ngGroupList">            <li class="ngGroupItem" ng-repeat="group in configGroups">                <span class="ngGroupElement">                    <span class="ngGroupName">{{group.displayName}}                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>                    </span>                    <span ng-hide="$last" class="ngGroupArrow"></span>                </span>            </li>        </ul>    </div>    <div class="ngHeaderContainer" ng-style="headerStyle()">        <div class="ngHeaderScroller" ng-style="headerScrollerStyle()" ng-include="gridId + \'headerRowTemplate.html\'"></div>    </div>    <div ng-grid-menu></div></div><div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">    <div class="ngCanvas" ng-style="canvasStyle()">        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>    </div></div><div ng-grid-footer></div>'),e.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }">    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>    <div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div>    <div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div>    <div class="ngSortPriority">{{col.sortPriority}}</div>    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div></div><div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>'),e.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell" ng-header-cell></div>'),e.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">    <div class="ngHeaderButtonArrow"></div></div><div ng-show="showMenu" class="ngColMenu">    <div ng-show="showFilter">        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>    </div>    <div ng-show="showColumnMenu">        <span class="ngMenuText">{{i18n.ngMenuText}}</span>        <ul class="ngColList">            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>				<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>				<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>                      </li>        </ul>    </div></div>'),e.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}" ng-cell></div>')}])})(window,jQuery);